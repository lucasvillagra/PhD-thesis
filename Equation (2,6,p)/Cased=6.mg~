load "mazur26p.mg";

/* The space */

G:=DirichletGroup(2^8*3^5);
eps:=Generators(G)[1]*Generators(G)[3];
M:=ModularSymbols(eps,2,1);
S:=NewSubspace(CuspidalSubspace(M));
new:=NewformDecomposition(S);
CM:=[ 1, 2, 3, 4, 5, 6, 41, 42 ];

/* Character chi */

Chi:= function(p)
if KroneckerSymbol(-6,p) eq -1 then
	f:=order(KroneckerSymbol(-1,p)*KroneckerSymbol(p,2)*KroneckerSymbol(p,3));
else
   f:=2*order(KroneckerSymbol(-1,p)*KroneckerSymbol(p,3));
end if;
return f;
end function;

/* Mazur's trick for forms without CM */

for i in [1..#new] do
if i notin CM then
print(DiscardPlace(6,eps,Chi,new,i,1,7));  
end if;           
end for;


